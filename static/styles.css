:root{
  --bg:#ffffff;
  --surface:#ffffff;
  --surface-soft:#f6f8fc;
  --text:#0f172a;
  --muted:#64748b;
  --border:#e5e7eb;
  --primary:#2563eb; /* blue-600 */
  --primary-700:#1d4ed8;
  --accent:#a5d8ff;
  --shadow: 0 10px 30px rgba(37,99,235,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

.layout{
  display:grid; grid-template-columns: 260px 1fr 320px; grid-template-rows: auto 1fr; min-height:100vh;
}

/* Sidebar */
.sidebar{
  grid-row:1 / span 2; grid-column:1; padding:20px; border-right:1px solid var(--border); background:var(--surface-soft);
}
.brand{display:flex; align-items:center; gap:12px; padding:8px 6px 18px 6px}
.logo{width:40px;height:40px;border-radius:10px; background: var(--primary); color:#fff; display:grid; place-items:center; font-weight:700}
.brand-text .title{font-weight:700; letter-spacing:.2px}
.brand-text .subtitle{color:var(--muted); font-size:12px; margin-top:-2px}
.nav{display:flex; flex-direction:column; gap:8px}
.nav-item{display:flex; align-items:center; gap:10px; padding:10px 12px; color:var(--text); text-decoration:none; border:1px solid transparent; border-radius:10px}
.nav-item:hover{background:#eef2ff; border-color:#e0e7ff}
.nav-item.active{background:#eaf1ff; border-color:#c7d2fe}
.sidebar-footer{position:sticky; bottom:16px; margin-top:24px; color:var(--muted); font-size:12px}

/* Top bar */
.content{grid-column:2; grid-row:1 / span 2; display:flex; flex-direction:column}
.topbar{display:flex; align-items:center; gap:16px; justify-content:space-between; padding:16px 24px; border-bottom:1px solid var(--border); background:var(--surface)}
.topbar .page-title{font-size:20px; font-weight:700}
.tag{font-size:12px; color:var(--primary); background:#eaf1ff; border:1px solid #c7d2fe; border-radius:999px; padding:4px 10px; margin-left:8px}
.topbar-left{display:flex; align-items:center}
.searchbox input{width:360px; border:1px solid var(--border); border-radius:12px; padding:10px 12px; outline:none}
.searchbox input:focus{border-color:var(--primary); box-shadow: 0 0 0 3px rgba(37,99,235,.15)}
.avatar{width:36px;height:36px;border-radius:50%;background:#e2e8f0;display:grid;place-items:center;font-weight:700}

/* Panels */
.panels{display:grid; grid-template-columns: 1fr 1fr; gap:24px; padding:24px}
.panel{background:var(--surface); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); padding:18px}
.panel.full{grid-column:1 / -1}
.panel-header{display:flex; align-items:baseline; justify-content:space-between; margin-bottom:12px}
.panel-title{font-weight:700}
.panel-sub{color:var(--muted); font-size:12px}

/* Upload */
.upload{display:flex; gap:12px; align-items:center}
.file{flex:1; padding:10px; border:1px dashed var(--border); border-radius:12px; background:var(--surface-soft)}
.hint{margin-top:8px; color:var(--muted); font-size:12px}
.note{margin-top:8px; color:var(--primary); display:none}
.note.show{display:block}

/* Cards grid for selections */
.card-grid{display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; max-height:280px; overflow:auto; padding:6px}
.card-item{display:block; border:1px solid var(--border); border-radius:14px; background:var(--surface); cursor:pointer; transition: all .15s ease}
.card-item:hover{border-color:#cfd8ff; box-shadow: 0 0 0 3px rgba(37,99,235,.07)}
.card-item input{display:none}
.card-item input:checked + .card-body{border-color:#c7d2fe; background:#f4f7ff}
.card-body{display:flex; gap:10px; align-items:center; border:2px solid transparent; border-radius:12px; padding:12px}
.card-icon{width:36px;height:36px;border-radius:10px;background:#eef2ff;display:grid;place-items:center}
.card-title{font-weight:600; font-size:14px}
.card-meta{margin-left:auto; color:#10b981; font-size:12px}
.empty{color:var(--muted); padding:8px}
.actions{display:flex; align-items:center; gap:12px; margin-top:10px}

/* Buttons */
.btn{border-radius:12px; border:1px solid var(--border); background:var(--surface); padding:10px 14px; cursor:pointer}
.btn-primary{background:var(--primary); color:#fff; border-color:var(--primary)}
.btn-primary:hover{background:var(--primary-700)}

/* Rightbar */
.rightbar{grid-column:3; grid-row:1 / span 2; padding:20px; border-left:1px solid var(--border); background:var(--surface)}
.sidepanel{border:1px solid var(--border); border-radius:16px; padding:14px; margin-bottom:16px; box-shadow:var(--shadow)}
.sidepanel-title{font-weight:700; margin-bottom:8px}
.switch{margin:8px 0}
.switch label{display:flex; align-items:center; gap:10px; cursor:pointer}
.switch input{display:none}
.slider{position:relative; width:42px; height:24px; background:#e5e7eb; border-radius:999px; transition: all .15s}
.slider::after{content:''; position:absolute; top:3px; left:3px; width:18px; height:18px; background:#fff; border-radius:50%; box-shadow:0 2px 6px rgba(0,0,0,.15); transition: all .15s}
.switch input:checked + .slider{background:#93c5fd}
.switch input:checked + .slider::after{transform: translateX(18px)}
.stats{display:flex; gap:12px}
.stat{flex:1; border:1px solid var(--border); border-radius:12px; padding:12px; text-align:center; background:var(--surface-soft)}
.stat-val{font-weight:800; font-size:18px}
.stat-label{color:var(--muted); font-size:12px}

/* Table */
.table-wrap{overflow:auto}
.table{border-collapse:separate; border-spacing:0; width:100%;}
.table th, .table td{border-bottom:1px solid var(--border); padding:10px; text-align:left}
.table thead th{font-size:12px; color:var(--muted)}
.ok{color:#16a34a}
.val{color:#b00020}
.cite{color:var(--muted); font-size:12px}
.context{color:var(--muted); font-size:12px; margin-top:2px}
.pill{padding:4px 8px; border-radius:999px; font-size:12px; border:1px solid #e2e8f0}
.pill-revision{background:#fef3c7; border-color:#fde68a}
.pill-tolerance{background:#e0f2fe; border-color:#bae6fd}

/* Responsive */
@media (max-width: 1200px){
  .layout{grid-template-columns: 220px 1fr;}
  .rightbar{display:none}
}
@media (max-width: 860px){
  .panels{grid-template-columns: 1fr}
  .searchbox input{width: 220px}
}
